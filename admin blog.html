<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aurora Spa - Qu·∫£n l√Ω Blog</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ===== RESET ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", sans-serif;
    }

    /* ===== LAYOUT ===== */
    body {
      display: flex;
      height: 100vh;
      background-color: #f6f7f6;
      color: #222;
    }

    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 220px;
      background-color: #2e4d40;
      color: white;
      padding: 20px 10px;
    }
    .sidebar .logo {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 30px;
      text-align: center;
    }
    .sidebar .menu {
      list-style: none;
    }
    .sidebar .menu li {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      margin: 5px 0;
      border-radius: 8px;
      cursor: pointer;
    }
    .sidebar .menu li:hover,
    .sidebar .menu li.active {
      background-color: #4b705a;
    }
    .sidebar .menu li span {
      margin-left: 10px; /* Shift text right to match first HTML */
    }

    /* ===== MAIN ===== */
    .main {
      flex: 1;
      padding: 30px;
    }

    /* ===== HEADER (TI√äU ƒê·ªÄ V√Ä ICONS) ===== */
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .top-left h1 {
      font-size: 36px;
    }
    .top-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .icon-row {
      display: flex;
      gap: 10px;
    }
    .icon-row .top-btn {
      background: white;
      border-radius: 8px;
      padding: 8px;
      cursor: pointer;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border: 1px solid #ccc;
    }
    .icon-row .top-btn:hover {
      background-color: #e0e0e0;
    }
    .icon-btn {
      width: 24px;
      height: 24px;
      fill: white;
      stroke: black;
      stroke-width: 1;
    }
    .dot {
      position: absolute;
      width: 6px;
      height: 6px;
      background-color: #ffc107;
      border-radius: 50%;
      top: 5px;
      right: 5px;
    }
    .search-box {
      background: white;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 10px 12px;
      width: 200px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .search-box input {
      border: none;
      outline: none;
      width: 100%;
      font-size: 14px;
      color: #333;
    }
    .search-box input::placeholder {
      color: #999;
    }

    /* ===== FILTER BAR ===== */
    .search-add-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .add-date-group {
      display: flex;
      align-items: center;
      gap: 5px; /* Smaller gap between button and date filter */
    }
    .search-add-row .search-box {
      margin-left: auto; /* Push search bar to the right */
    }
    .add-btn {
      background-color: #2e4d40;
      color: white;
      border: none;
      cursor: pointer;
      padding: 10px;
      border-radius: 6px;
    }
    .add-btn:hover {
      background-color: #446b59;
    }
    .date-filter {
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 10px;
      outline: none;
      font-size: 14px;
    }

    /* ===== TABLE ===== */
    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
    }
    th {
      background-color: #f1f1f1;
    }
    tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    a.blog-id {
      color: #007bff;
      text-decoration: none;
    }
    a.blog-id:hover {
      text-decoration: underline;
    }

    /* ===== ACTION BUTTONS ===== */
    .actions a {
      border: none;
      background: none;
      cursor: pointer;
      font-size: 16px;
      margin: 0 5px;
      text-decoration: none;
      color: #2e4d40;
    }
    .actions a.delete {
      color: #dc3545;
    }
    .actions a:hover {
      opacity: 0.8;
    }

    /* ===== STATUS BADGES ===== */
    .status-badge {
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      text-align: center;
      min-width: 60px;
    }
    .status-draft {
      background-color: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }
    .status-hidden {
      background-color: #e2e3e5;
      color: #495057;
      border: 1px solid #d6d8db;
    }
    .status-published {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    /* ===== PAGINATION ===== */
    .pagination {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      margin-top: 25px;
    }
    .pagination button {
      width: 40px;
      height: 40px;
      border: 1px solid #ccc;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: #2e4d40;
    }
    .pagination button:hover:not(:disabled) {
      background: #2e4d40;
      color: white;
    }
    .pagination button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .pagination .page-active {
      background: #2e4d40;
      color: white;
      border-color: #2e4d40;
    }

    /* ===== MODAL DELETE ===== */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    .modal-content {
      background-color: #dbe7e3;
      padding: 25px 30px;
      border-radius: 10px;
      min-width: 500px;
      text-align: center;
    }
    .modal h2 {
      text-align: center;
      margin-bottom: 20px;
      border-bottom: 1px solid #888;
      padding-bottom: 10px;
    }
    .modal p {
      font-size: 16px;
      margin-bottom: 25px;
    }
    .modal .buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    .modal .buttons button {
      padding: 8px 20px;
      border: none;
      border-radius: 5px;
      color: white;
      background-color: #2e4d40;
      cursor: pointer;
    }
    .modal .buttons button.delete {
      background-color: #dc3545;
    }
    .modal .buttons button.cancel {
      background-color: #888;
    }
    .modal .buttons button:hover {
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="logo">Aurora Spa</div>
    <ul class="menu">
      <li><span>Kh√°ch h√†ng</span></li>
      <li><span>D·ªãch v·ª•</span></li>
      <li class="active"><span>Blog</span></li>
      <li><span>L·ªãch h·∫πn</span></li>
      <li><span>FAQ</span></li>
      <li><span>T√≠ch ƒëi·ªÉm</span></li>
      <li><span>C√†i ƒë·∫∑t</span></li>
    </ul>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <div class="top-bar">
      <div class="top-left">
        <h1>DANH S√ÅCH BLOG</h1>
      </div>
      <div class="top-right">
        <div class="icon-row">
          <button class="top-btn" title="Th√¥ng b√°o">
            <svg class="icon-btn" viewBox="0 0 24 24">
              <path d="M6 8a6 6 0 0 1 12 0v5l2 2H4l2-2V8"/>
              <path d="M9 19a3 3 0 0 0 6 0"/>
            </svg>
            <span class="dot"></span>
          </button>
          <button class="top-btn" title="Tin nh·∫Øn">
            <svg class="icon-btn" viewBox="0 0 24 24">
              <path d="M21 15a4 4 0 0 1-4 4H8l-5 4V6a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
            </svg>
          </button>
          <button class="top-btn" title="T√†i kho·∫£n">
            <svg class="icon-btn" viewBox="0 0 24 24">
              <circle cx="12" cy="8" r="4"/>
              <path d="M20 20a8 8 0 1 0-16 0"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="search-add-row">
      <div class="add-date-group">
        <button class="add-btn" id="createBlogBtn">+ T·∫°o Blog m·ªõi</button>
        <input type="date" id="dateFilter" class="date-filter" oninput="filterTable()">
      </div>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm" oninput="filterTable()">
      </div>
    </div>

    <table id="blogTable">
      <thead>
        <tr>
          <th></th>
          <th>Blog ID</th>
          <th>Ng√†y ƒëƒÉng</th>
          <th>T√°c gi·∫£</th>
          <th>Ti√™u ƒë·ªÅ</th>
          <th><span>H√†nh ƒë·ªông</span></th>
          <th>Tr·∫°ng th√°i</th>
        </tr>
      </thead>
      <tbody>
        <tr data-blog-id="BLG001" data-date="2024-10-05" data-display-date="2024/10/05">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG001" class="blog-id">#BLG001</a></td>
          <td>2024/10/05</td>
          <td>Jack97</td>
          <td>B√≠ quy·∫øt chƒÉm s√≥c s·ª©c kh·ªèe v√† s·∫Øc ƒë·∫πp t·ª´ G·ª´ng, S·∫£...</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG001">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG001">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG001')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-published">ƒê√£ ƒëƒÉng</span></td>
        </tr>
        <tr data-blog-id="BLG002" data-date="2024-11-05" data-display-date="2024/11/05">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG002" class="blog-id">#BLG002</a></td>
          <td>2024/11/05</td>
          <td>Ki·ªÅu Minh Tu·∫•n</td>
          <td>Ngh·ªá thu·∫≠t Massage b·∫±ng ƒë√° n√≥ng gi√∫p l∆∞u th√¥ng m√°u...</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG002">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG002">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG002')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-published">ƒê√£ ƒëƒÉng</span></td>
        </tr>
        <tr data-blog-id="BLG003" data-date="2024-09-28" data-display-date="2024/09/28">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG003" class="blog-id">#BLG003</a></td>
          <td>2024/09/28</td>
          <td>S∆°n T√πng MTP</td>
          <td>Th∆∞ gi√£n ƒë√∫ng c√°ch sau ng√†y d√†i</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG003">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG003">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG003')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-published">ƒê√£ ƒëƒÉng</span></td>
        </tr>
        <tr data-blog-id="BLG004" data-date="2024-09-15" data-display-date="2024/09/15">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG004" class="blog-id">#BLG004</a></td>
          <td>2024/09/15</td>
          <td>Hi·∫øu Th·ª© Hai</td>
          <td>L·ª£i √≠ch tuy·ªát v·ªùi c·ªßa massage</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG004">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG004">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG004')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-draft">Nh√°p</span></td>
        </tr>
        <tr data-blog-id="BLG005" data-date="2024-08-30" data-display-date="2024/08/30">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG005" class="blog-id">#BLG005</a></td>
          <td>2024/08/30</td>
          <td>ViruSs</td>
          <td>ƒêi spa m·ªói tu·∫ßn: N√™n hay kh√¥ng?</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG005">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG005">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG005')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-hidden">·∫®n</span></td>
        </tr>
        <tr data-blog-id="BLG006" data-date="2024-08-12" data-display-date="2024/08/12">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG006" class="blog-id">#BLG006</a></td>
          <td>2024/08/12</td>
          <td>ViruSs</td>
          <td>Tips gi·ªØ da s√°ng m·ªãn l√¢u d√†i</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG006">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG006">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG006')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-published">ƒê√£ ƒëƒÉng</span></td>
        </tr>
        <tr data-blog-id="BLG007" data-date="2024-07-12" data-display-date="2024/07/12">
          <td><input type="checkbox"></td>
          <td><a href="admin blog edit.html?blogId=BLG007" class="blog-id">#BLG007</a></td>
          <td>2024/07/12</td>
          <td>L√™ D∆∞∆°ng B·∫£o L√¢m</td>
          <td>H∆∞·ªõng d·∫´n t·∫©y t·∫ø b√†o ch·∫øt t·∫°i nh√†</td>
          <td class="actions">
            <a href="blog2.html?blogId=BLG007">üëÅÔ∏è</a>
            <a href="admin blog edit.html?blogId=BLG007">‚úèÔ∏è</a>
            <a href="#" class="delete" onclick="openModal('deleteModal', 'BLG007')">üóëÔ∏è</a>
          </td>
          <td><span class="status-badge status-draft">Nh√°p</span></td>
        </tr>
      </tbody>
    </table>

    <!-- PAGINATION - D√íNG CU·ªêI -->
    <div class="pagination">
      <button onclick="changePage(-1)" title="Trang tr∆∞·ªõc">‚Äπ</button>
      <button class="page-active">1</button>
      <button onclick="changePage(1)" title="Trang sau">‚Ä∫</button>
    </div>
  </main>

  <!-- DELETE MODAL -->
  <div id="deleteModal" class="modal">
    <div class="modal-content">
      <h2>X√≥a Blog</h2>
      <p>B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a Blog n√†y kh√¥ng?<br><strong>H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c</strong></p>
      <div class="buttons">
        <button class="delete" id="confirmDeleteBtn">X√≥a</button>
        <button class="cancel" onclick="closeModal('deleteModal')">H·ªßy</button>
      </div>
    </div>
  </div>

  <script>
    let currentBlogId = null;

    document.getElementById("createBlogBtn").addEventListener("click", () => {
      window.location.href = "tao-blog.html";
    });

    function openModal(id, blogId) {
      currentBlogId = blogId;
      document.getElementById(id).style.display = 'flex';
    }

    function closeModal(id) {
      document.getElementById(id).style.display = 'none';
      currentBlogId = null;
    }

    document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
      if (currentBlogId) {
        window.location.href = `delete-blog.html?blogId=${currentBlogId}`;
      }
    });

    // === PAGINATION ===
    function changePage(direction) {
      alert('üìÑ Ch·ª©c nƒÉng ph√¢n trang ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn!');
    }

    // === FILTER FUNCTION ===
    function formatDateToDisplay(isoDate) {
      if (!isoDate) return '';
      const [year, month, day] = isoDate.split('-');
      return `${year}/${month}/${day}`;
    }

    function filterTable() {
      const searchInput = document.getElementById('searchInput').value.toLowerCase();
      const dateFilter = document.getElementById('dateFilter').value;
      const table = document.getElementById('blogTable');
      const tr = table.getElementsByTagName('tr');

      for (let i = 1; i < tr.length; i++) {
        const td = tr[i].getElementsByTagName('td');
        let matchSearch = false;
        let matchDate = !dateFilter;

        // Search filter
        for (let j = 1; j < td.length; j++) { // Skip checkbox column
          if (td[j]) {
            const txtValue = td[j].textContent || td[j].innerText;
            if (txtValue.toLowerCase().indexOf(searchInput) > -1) {
              matchSearch = true;
              break;
            }
          }
        }

        // Date filter
        if (dateFilter) {
          const rowDate = tr[i].getAttribute('data-display-date');
          const formattedDate = formatDateToDisplay(dateFilter);
          matchDate = rowDate === formattedDate;
        }

        tr[i].style.display = matchSearch && matchDate ? '' : 'none';
      }
    }
  </script>
</body>
</html>